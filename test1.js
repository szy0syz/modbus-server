let buf = Buffer.from([0x01, 0x41, 0x00, 0x58, 0x5B, 0x15, 0x3B, 0x36, 0x00, 0x00, 0x00, 0x00, 0x07, 0xD0, 0x07, 0xD0, 0x07, 0xD0, 0x07, 0xD0, 0x01, 0x8F, 0x01, 0x8F, 0x01, 0x8F, 0x01, 0x8F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x53, 0x04, 0x95, 0x23, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x22, 0xD3, 0x24])


function RtuData(data) {
    this.optCode = data.slice(0, 2)  // -> 0x01 0x41
    this.count = 1  // -> 封包数量
    this.oriData = data.slice(4, data.length - 6)  // TODO: map.
    this.data = [   // ->　数据包
        {
            date: this.oriData.slice(0, 4),
            DI: this.oriData.slice(4, 6),
            DO: this.oriData.slice(6, 8),
            analogReg: this.oriData.slice(8, 8 + 16),
            innerReg: this.oriData.slice(24, 24 + 16),
            outerReg: this.oriData.slice(40, this.oriData.length)
        }
    ]
    this.crc = data.slice(data.length - 2, data.length)
}

console.log(new RtuData(buf))
